<!doctype html>
<html lang="zh-Hant">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>UX / UI / HCI 互動式學習（One-page）</title>
  <meta name="description" content="一頁式互動學習網站：UX/UI/HCI 術語字典、抽認卡、測驗、進度追蹤。" />
  <link rel="stylesheet" href="styles.css" />
</head>
<body>
  <div class="wrap">
    <header>
      <div class="brand">
        <h1>UX / UI / HCI 互動式學習（One-page）</h1>
        <p>字典 + 抽認卡 + 測驗 + 進度追蹤（離線儲存到你的瀏覽器）。快捷鍵：<span class="kbd">/</span> 搜尋、<span class="kbd">F</span> 抽認卡、<span class="kbd">Q</span> 測驗。</p>
      </div>
      <div class="top-actions">
        <button class="btn" id="btnHelp" type="button">使用說明</button>
        <button class="btn danger" id="btnReset" type="button" title="清除本機進度">重置進度</button>
      </div>
    </header>

    <section class="panel" aria-label="Filters">
      <div class="controls">
        <div class="field">
          <label for="search">搜尋（中英都可）</label>
          <input id="search" type="search" placeholder="例如：affordance / 可供性 / test..." autocomplete="off" />
        </div>

        <div class="field">
          <label>等級 Level</label>
          <div class="chips" role="group" aria-label="Level filter">
            <button class="chip" type="button" data-level="Basic" aria-pressed="true"><span class="dot basic"></span>Basic 基礎</button>
            <button class="chip" type="button" data-level="Intermediate" aria-pressed="true"><span class="dot intermediate"></span>Intermediate 中等</button>
            <button class="chip" type="button" data-level="Advanced" aria-pressed="true"><span class="dot advanced"></span>Advanced 進階</button>
          </div>
        </div>

        <div class="field">
          <label for="category">分類 Category</label>
          <select id="category">
            <option value="All">全部 All</option>
          </select>
        </div>

        <div class="field">
          <label for="lang">顯示語言</label>
          <select id="lang">
            <option value="both" selected>中英一起 (ZH + EN)</option>
            <option value="zh">只看中文 (ZH)</option>
            <option value="en">只看英文 (EN)</option>
          </select>
        </div>
      </div>

      <nav class="tabs" aria-label="Modes">
        <button class="tab" id="tabGlossary" type="button" aria-selected="true">字典 Glossary</button>
        <button class="tab" id="tabFlash" type="button" aria-selected="false">抽認卡 Flashcards</button>
        <button class="tab" id="tabQuiz" type="button" aria-selected="false">測驗 Quiz</button>
      </nav>
    </section>

    <main class="grid" id="viewGlossary">
      <section class="panel list" aria-label="Glossary list">
        <div class="meta">
          <div class="counter" id="counter">—</div>
          <div style="flex:1; max-width:360px; display:flex; flex-direction:column; gap:8px">
            <div class="progressline" aria-label="Mastery progress"><div id="progressBar"></div></div>
            <div class="counter" id="masteryText">—</div>
          </div>
        </div>
        <div class="cards" id="cards"></div>
      </section>

      <aside class="panel" aria-label="Side panel">
        <div class="sideblock">
          <h3>你的進度 Progress</h3>
          <div class="stats">
            <div class="stat"><div class="k">已學習 Seen</div><div class="v" id="statSeen">0</div></div>
            <div class="stat"><div class="k">已掌握 Mastered</div><div class="v" id="statMastered">0</div></div>
            <div class="stat"><div class="k">收藏 Favorites</div><div class="v" id="statFav">0</div></div>
            <div class="stat"><div class="k">總術語 Terms</div><div class="v" id="statTotal">0</div></div>
          </div>
          <p class="hint">提示：點開術語卡片可看中英解釋；按 ⭐ 收藏；抽認卡用「我會/不會」建立記憶。</p>
        </div>

        <div class="sideblock" style="margin-top:12px">
          <h3>快速練習 Quick Practice</h3>
          <div class="row">
            <button class="btn primary" id="btnStartFlash" type="button">開始抽認卡</button>
            <button class="btn" id="btnStartQuiz" type="button">開始測驗（10題）</button>
          </div>
          <p class="hint">抽認卡採用簡化間隔記憶（box 1→5）。box 5 視為已掌握。</p>
        </div>
      </aside>
    </main>

    <main class="grid hidden" id="viewFlash" aria-label="Flashcards">
      <section class="panel list">
        <div class="meta">
          <div class="counter" id="flashCounter">—</div>
          <div style="flex:1; max-width:360px; display:flex; flex-direction:column; gap:8px">
            <div class="progressline" aria-label="Flashcard mastery"><div id="flashBar"></div></div>
            <div class="counter" id="flashMastery">—</div>
          </div>
        </div>

        <div class="flash" style="padding:12px">
          <div class="flashcard" id="flashcard" role="group" aria-label="Flashcard">
            <div class="flash-top">
              <div>
                <div class="lvl" id="flashLevel">—</div>
                <div class="lvl" id="flashCategory">—</div>
              </div>
              <button class="iconbtn" id="flashFav" type="button" aria-pressed="false" title="收藏">⭐</button>
            </div>

            <div class="flash-main" id="flashMain">
              <div class="front" id="flashFront">—</div>
              <div class="sub" id="flashSub">—</div>
              <div class="back hidden" id="flashBack">
                <div class="def" style="margin-top:10px"><h4>中文解釋 ZH</h4><p id="flashZh">—</p></div>
                <div class="def b"><h4>English Definition</h4><p id="flashEn">—</p></div>
              </div>
            </div>

            <div class="row" aria-label="Flashcard actions">
              <button class="btn" id="btnFlip" type="button">翻面 Flip</button>
              <button class="btn danger" id="btnNo" type="button">不會 ❌</button>
              <button class="btn primary" id="btnYes" type="button">我會 ✅</button>
            </div>
          </div>

          <div class="row">
            <button class="btn" id="btnBackToGlossary1" type="button">回字典</button>
            <button class="btn" id="btnNext" type="button">下一張（跳過）</button>
          </div>

          <p class="hint">快捷鍵：<span class="kbd">Space</span> 翻面，<span class="kbd">1</span> 不會，<span class="kbd">2</span> 我會，<span class="kbd">N</span> 下一張。</p>
        </div>
      </section>

      <aside class="panel" aria-label="Flashcard side">
        <div class="sideblock">
          <h3>抽認卡統計 Stats</h3>
          <div class="stats">
            <div class="stat"><div class="k">Box 1</div><div class="v" id="box1">0</div></div>
            <div class="stat"><div class="k">Box 2</div><div class="v" id="box2">0</div></div>
            <div class="stat"><div class="k">Box 3</div><div class="v" id="box3">0</div></div>
            <div class="stat"><div class="k">Box 4</div><div class="v" id="box4">0</div></div>
          </div>
          <div class="stat" style="margin-top:10px"><div class="k">Box 5（掌握）</div><div class="v" id="box5">0</div></div>
          <p class="hint">Box 越低越常出現；答對就升級，答錯回到 Box 1。</p>
        </div>
      </aside>
    </main>

    <main class="grid hidden" id="viewQuiz" aria-label="Quiz">
      <section class="panel list">
        <div class="meta">
          <div class="counter" id="quizCounter">—</div>
          <div style="display:flex; gap:10px; flex-wrap:wrap; justify-content:flex-end">
            <button class="btn" id="btnNewQuiz" type="button">重新出題</button>
            <button class="btn" id="btnBackToGlossary2" type="button">回字典</button>
          </div>
        </div>

        <div class="quiz" style="padding:12px">
          <div class="qbox" id="qbox">
            <p class="qtitle" id="qtitle">—</p>
            <p class="qprompt" id="qprompt">—</p>
            <div class="options" id="options"></div>
          </div>

          <div class="sideblock">
            <h3>測驗結果 Result</h3>
            <div class="stats">
              <div class="stat"><div class="k">答對 Correct</div><div class="v" id="quizCorrect">0</div></div>
              <div class="stat"><div class="k">題目進度</div><div class="v" id="quizStep">0/0</div></div>
            </div>
            <p class="hint" id="quizHint">每題選一個最符合的英文定義（選項會附中文提示）。</p>
          </div>

          <p class="hint">快捷鍵：<span class="kbd">1</span>~<span class="kbd">4</span> 選答案，<span class="kbd">Enter</span> 下一題。</p>
        </div>
      </section>

      <aside class="panel" aria-label="Quiz side">
        <div class="sideblock">
          <h3>出題設定</h3>
          <div class="field" style="margin-top:10px">
            <label for="quizMode">題型</label>
            <select id="quizMode">
              <option value="term_to_def" selected>看到術語 → 選英文定義</option>
              <option value="def_to_term">看到定義 → 選術語</option>
            </select>
          </div>
          <div class="field" style="margin-top:10px">
            <label for="quizN">題數</label>
            <select id="quizN">
              <option value="5">5</option>
              <option value="10" selected>10</option>
              <option value="15">15</option>
              <option value="20">20</option>
            </select>
          </div>
          <p class="hint">提示：你可以先用「只看某一等級」再開始測驗，難度會更聚焦。</p>
        </div>
      </aside>
    </main>

    <dialog id="dlgHelp">
      <div class="dlg">
        <h2>使用說明</h2>
        <p>這是一個單頁學習網站：你可以用搜尋與篩選讀字典，也可以用抽認卡與測驗建立記憶。所有進度只存在你的瀏覽器（localStorage），不會上傳。</p>
        <ul>
          <li><b>字典</b>：點開卡片看中英解釋；按 ⭐ 收藏；用搜尋 / 等級 / 分類快速找詞。</li>
          <li><b>抽認卡</b>：翻面後再回答「我會/不會」。答對升級 Box；Box 5 視為掌握。</li>
          <li><b>測驗</b>：預設「術語 → 選英文定義」，也可切換「定義 → 選術語」。</li>
          <li><b>快捷鍵</b>：<span class="kbd">/</span> 聚焦搜尋，<span class="kbd">F</span> 抽認卡，<span class="kbd">Q</span> 測驗；抽認卡 <span class="kbd">Space</span>/<span class="kbd">1</span>/<span class="kbd">2</span>/<span class="kbd">N</span>；測驗 <span class="kbd">1</span>~<span class="kbd">4</span> 選答案。</li>
        </ul>
        <div class="row" style="margin-top:14px">
          <button class="btn primary" id="btnCloseHelp" type="button">知道了</button>
        </div>
      </div>
    </dialog>

  </div>
  <script src="script.js"></script>
</body>
</html>
